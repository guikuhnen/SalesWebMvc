@model IEnumerable<SalesWebMvc.Models.SalesRecord>

@{
	ViewData["Title"] = "Simple Search";
}

<div class="container mb-3">
	<div class="row align-items-center">
		<div class="col">
			<h1>@ViewData["Title"]</h1>
		</div>
		<div class="col">
			<a type="button" class="btn btn-dark float-right" asp-action="Index">Back to List</a>
		</div>
	</div>
</div>

<nav class="navbar navbar-dark bg-primary border-bottom box-shadow mb-3 text-white rounded">
	<form class="form-inline my-2 my-lg-0" role="search">
		<div class="form-group">
			<label class="mr-sm-2" for="minDate">Min Date</label>
			<input type="date" class="form-control mr-sm-2" name="minDate" value=@ViewData["MinDate"] />
		</div>
		<div class="form-group">
			<label class="mr-sm-2" for="maxDate">Max Date</label>
			<input type="date" class="form-control mr-sm-2" name="maxDate" value=@ViewData["MaxDate"] />
		</div>
		<button type="submit" class="btn btn-info my-2 my-sm-0">Filter</button>
	</form>
</nav>

<div class="card mb-3">
	<div class="card-header text-white bg-info">
		<h3 class="panel-title">Total Sales = $ @Model.Sum(obj => obj.Ammount).ToString("F2")</h3>
	</div>
	<div class="card-body">
		<table class="table table-striped table-hover">
			<thead>
				<tr class="table-primary">
					<th>
						@Html.DisplayNameFor(model => model.Date)
					</th>
					<th>
						@Html.DisplayNameFor(model => model.Seller)
					</th>
					<th>
						@Html.DisplayNameFor(model => model.Seller.Department)
					</th>
					<th>
						@Html.DisplayNameFor(model => model.Ammount)
					</th>
					<th>
						@Html.DisplayNameFor(model => model.Status)
					</th>
				</tr>
			</thead>
			<tbody>
				@foreach (var item in Model)
				{
					<tr>
						<td>
							@Html.DisplayFor(modelItem => item.Date)
						</td>
						<td>
							@Html.DisplayFor(modelItem => item.Seller.Name)
						</td>
						<td>
							@Html.DisplayFor(modelItem => item.Seller.Department.Name)
						</td>
						<td>
							$ @Html.DisplayFor(modelItem => item.Ammount)
						</td>
						<td>
							@Html.DisplayFor(modelItem => item.Status)
						</td>
					</tr>
				}
			</tbody>
		</table>
	</div>
</div>

